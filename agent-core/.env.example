# Alfred Agent Core Environment Configuration
# Copy this file to .env and fill in your values
# Required fields are marked with [REQUIRED]

# ============================================
# APPLICATION SETTINGS
# ============================================

# Application environment: development, staging, production, test
APP_ENV=development

# Application name (used in logs and responses)
APP_NAME="Alfred Agent Core"

# Application version
APP_VERSION=0.1.0

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# API SECURITY
# ============================================

# [REQUIRED] API key for authenticating requests to this service
# Must be at least 32 characters long
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=your-secure-api-key-min-32-chars-long-replace-this

# Allowed CORS origins - supports two formats:
# Option 1: Comma-separated list (recommended for shells/Docker)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
# Option 2: JSON array (for complex deployments)
# CORS_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# ============================================
# SERVER CONFIGURATION
# ============================================

# Host to bind the server to (0.0.0.0 for all interfaces)
HOST=0.0.0.0

# Port to bind the server to
PORT=8080

# ============================================
# ANTHROPIC CONFIGURATION
# ============================================

# [REQUIRED] Anthropic API key for Claude model access
# Get from: https://console.anthropic.com/account/keys
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# Anthropic model to use
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Maximum tokens for Anthropic responses (1-8192)
ANTHROPIC_MAX_TOKENS=4096

# ============================================
# DATABASE CONFIGURATION (Week 3)
# ============================================

# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
# DATABASE_URL=postgresql://alfred:password@localhost:5432/agent_core

# Database connection pool size (1-100)
DATABASE_POOL_SIZE=10

# Database connection pool timeout in seconds
DATABASE_POOL_TIMEOUT=30

# ============================================
# NOTION OAUTH CONFIGURATION (Week 2)
# ============================================

# Notion OAuth app credentials
# Get from: https://www.notion.so/my-integrations
# NOTION_CLIENT_ID=your-notion-client-id
# NOTION_CLIENT_SECRET=your-notion-client-secret

# Notion OAuth callback URL (must match app settings)
NOTION_REDIRECT_URI=http://localhost:8080/oauth/notion/callback

# ============================================
# SECURITY & ENCRYPTION
# ============================================

# Fernet encryption key for token storage
# Auto-generated if not provided, but should be persistent in production
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# FERNET_KEY=your-fernet-key-here

# JWT secret for session tokens
# Auto-generated if not provided, but should be persistent in production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# JWT_SECRET=your-jwt-secret-here

# ============================================
# MCP (MODEL CONTEXT PROTOCOL) CONFIGURATION
# ============================================

# MCP tool call timeout in milliseconds (1000-120000)
MCP_TIMEOUT=30000

# MCP server URLs
MCP_NOTION_SERVER_URL=http://localhost:3001
MCP_GITHUB_SERVER_URL=http://localhost:3002

# ============================================
# CACHE CONFIGURATION
# ============================================

# Default cache TTL in seconds (0 to disable)
CACHE_TTL_DEFAULT=3600  # 1 hour

# Tool-specific cache TTLs
CACHE_TTL_NOTION=300    # 5 minutes
CACHE_TTL_GITHUB=900    # 15 minutes

# ============================================
# RATE LIMITING (Week 4)
# ============================================

# Maximum requests per window
RATE_LIMIT_REQUESTS=100

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# ============================================
# DOCKER-SPECIFIC OVERRIDES
# ============================================

# When running in Docker, you may need to override these:
# MCP_NOTION_SERVER_URL=http://host.docker.internal:3001
# MCP_GITHUB_SERVER_URL=http://host.docker.internal:3002
# DATABASE_URL=postgresql://alfred:password@db:5432/agent_core
